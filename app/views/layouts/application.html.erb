<!DOCTYPE html>
<html>
  <head>
    <title>RailsArcade</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
  <div class="container">
    <% if is_logged_in? %>
      <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="collapse navbar-collapse">
          <div class="navbar-nav mr-auto">
            <%= link_to "Games", games_path, class: "nav-item nav-link" %>
            <%= link_to "Users", users_path, class: "nav-item nav-link" %>
            <%= link_to "Manufacturers", manufacturers_path, class: "nav-item nav-link" %>
          </div>
          <div class="navbar-nav">
            <%= link_to "(#{current_user.tokens}) Profile", user_path(session[:user_id]), class: "nav-item nav-link" %>
            <%= link_to "Log Out", signout_path, method: :delete, class: "nav-item nav-link" %>
          </div>
        </div>
      </nav>
    <% end %>

    <% flash.keys.each do |type| %>
      <div style="color: red;" data-alert class="col text-center flash <%= type %> alert-box radius">
        <%= flash[type] %>
      </div>
    <% end %>

    <%= yield %>
  </div>
  </body>
</html>
